:root{
    --mv-color:#C0B376;
    --license-color:#29910d;
    --voter-color:#BF0E3F;
    --chat-color:#BBBBBB;
    --currentMenuItem:#3c84e9;
    --megaLinkeHover:#F7F8F9;
}

html,body{
    margin: 0;
    padding: 0;
    height: 2000px;
    // background-color: #efefef;
    font-family: Arial, Helvetica, sans-serif;
}


/////////////////////////////////////////////
//  MEGA MENU

.wrapper{
    position:absolute;
    top:50%;
    left: 50%;
    transform:translateY(-50%) translateX(-50%);
    width: 100%;
    max-width: 900px;
}
.overlay {
  position: fixed;
  display: none;
  top: 35px;
  bottom: 0px;
  right: 0px;
  left: 0px;
  z-index: 2;
  backdrop-filter: blur(4px);
  background-color: rgba(30, 30, 30, 0.4)
}

.container {
  position: relative;
  width: 100%;
  z-index: 3;
  display: flex;
  justify-content: center;

  .row {
    width: 100%;
    display: flex;

    .mega-menu-container{
        position: relative;
        display: flex;
        justify-content: center;
        width: 100%;
        height: 35px;
        transition: max-height .75s linear;

        .hamburger-container {
            display: none;
            z-index: 9999;
            position: absolute;
            top: 15px;
            left: 20px;
            cursor: pointer;

            .bar1, .bar2, .bar3 {
                width: 25px;
                height: 3px;
                background-color: #333;
                margin: 5px 0;
                transition: transform 0.15s linear;
            }     
            .searchBtn{
                z-index: 9999;
                display: block;
                width: 28px;
                height: 28px;
                top:15px;
                right: 20px;
                position: absolute;
            }
        }//// /Mobile Menu Container

        .hamburger-container:after{
            content:"Menu";
            color:#333;
            position: absolute;
            top:50%;
            transform: translateY(-50%);
            left: 35px;
            font-size: 16px;
        }//// /Mobile Menu Container:after

        .formX .bar1 {
            transform: translate(0, 8px) rotate(-45deg);
        }
        .formX .bar2 {
            opacity: 0;
        }
        .formX .bar3 {
            transform: translate(0, -8px) rotate(45deg);
        }
        
        .hamburger-container:after {
            content: "Menu";
            color: #222;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            left: 35px;
            font-size: 16px;
        }

        .menu-btn{
            height: 100%;
            padding: auto 10px;
            display: flex;
            align-items: center;
            justify-content: center;

            & > p{
                position: relative;
                background-color: none;
                white-space: nowrap;
                border-top-right-radius: 4px;
                border-top-left-radius: 4px;
                display: flex;
                padding: 0 14px 0 10px;
                justify-content: center;
                align-items: center;
                height: 100%;
                transition: background-color .25s ease-in-out, color .25s ease-in-out;
                cursor: pointer;
            }
            ////////////////////////////////////
             
                .column-container{
                    position: absolute;
                    background-color:white;
                    padding: 0 0 0 0;
                    display: flex;
                    top: 35px;
                    left:0;
                    right: 0;
                    max-height: 0;
                    overflow: hidden;
                    transition: max-height 0.25s ease-in-out, padding 0.25s ease-in-out, border-top-width 0.15s ease-in-out;
                    -webkit-box-shadow: 0px 159px 95px rgba(13,12,34,0.01),0px 71px 71px rgba(13,12,34,0.02),0px 18px 39px rgba(13,12,34,0.02),0px 0px 0px rgba(13,12,34,0.02);
                    box-shadow: 0px 159px 95px rgba(13,12,34,0.01),0px 71px 71px rgba(13,12,34,0.02),0px 18px 39px rgba(13,12,34,0.02),0px 0px 0px rgba(13,12,34,0.02);

                    .column-row{
                        position: relative;
                        display: flex;
                        width: 100%;
                        margin: 7px auto 0;
                        max-width: 1180px;

                        .column{
                            position: relative;
                            width: 25%;
                            display: flex;
                            flex-direction: column;
                            opacity: 0;
                            transition: opacity 0.25s ease-in-out;

                            h4{
                                margin:0 0 16px 0;
                                font-size: 17px;
                                padding-bottom: 4px;
                                display: block;
                                width: 70%;
                                border-bottom: 1px solid #ddd;
                            }

                            a{
                                text-decoration: none;
                                display: block;
                                max-width: 200px;
                                letter-spacing: .02em;
                                color: #777;
                                font-size: 14px;
                                padding: 6px 0;
                                line-height: 1.3em;
                                transition: background-color .25s ease-in-out, color .25s ease-in-out;  
                            }
                            a:hover{
                                color: #222;
                                transition: .15s ease-in-out;
                                display: block;
                                background-color: #F7F8F9;
                            }
                            p{
                                display: block;
                                box-sizing: border-box;
                                margin: 0 0 0 0;
                                padding: 0 30px 20px 0; 
                                line-height: 1.4em;
                                color: #777;
                                font-size: 16px;
                            }
                        }// /column

                        .chat-column{
                            position: relative;
                            width: 25%;
                            display: flex;
                            flex-direction: column;
                            margin: -10px 0 0 -10px; // This sould be the inverse of the a tag padding

                            a{
                                text-decoration: none;
                                display: block;
                                max-width: 400px;
                                margin: 0 30px 0 0;
                                padding: 10px 0 0 10px;
                                color: #222;
                                font-size: 14px;
                                line-height: 1.4em;
                                transition: background-color .25s ease-in-out, color .25s ease-in-out;  
                                
                                h4{
                                    margin:0 0 16px 0;
                                    font-size: 17px;
                                    padding-bottom: 4px;
                                    display: block;
                                    width: 75%;
                                    border-bottom: 1px solid #ddd;
                                    transition: color .25s ease-in-out;  
                                }
                                
                                p{
                                    display: block;
                                    box-sizing: border-box;
                                    margin: 0 0 0 0;
                                    padding: 0 30px 20px 0; 
                                    line-height: 1.4em;
                                    color: #777;
                                    font-size: 16px;
                                    transition: color .25s ease-in-out;
                                }
                            }

                            a:hover{
                                color: #222;
                                background-color: var(--megaLinkeHover);
                                h4{
                                    color: var(--btn-color);
                                }
                                p{
                                    color: #222;
                                }
                            }

                        }// /chat-column

                        .row-col-gallery{
                            position: absolute;
                            opacity: 0;
                            z-index: 99999;
                            top: 0;
                            right: 0;
                            bottom: -15px;
                            width: 28%;
                            background-color: #eee;
                        } 

                    }// /column-row

                }// /column-container

            /////// Top Border Colors
            
            .mv-section-top-border{
                border-top: 0px solid #C0B376;
            }

            .license-section-top-border{
                border-top: 0px solid #29910d;
            }

            .voter-section-top-border{
                border-top: 0px solid #BF0E3F;
            }

            .chat-section-top-border{
                border-top: 0px solid #BBB;
            }
            /////// /Top Border Colors
            
        }// /menu-btn

        .current-menu-item > p{
            background-color: var(--currentMenuItem);
            border-radius: 4px;
            color: #fff;
            transition: background-color .15s linear;
        }
        .current-menu-item .menu-btn-p:after{
            border-top: 5px solid #fff; 
        }

        .menuItemGhosted{
            background-color:#eee !important;
            color:#999 !important;
        }
        .menuItemGhosted:after{
            border-top: 5px solid #999 !important;
        }

        .overlay-on-over > p:after{ // Arrow 
            content:"";
            position: relative;
            transform-origin: center;
            transform: rotate(0);
            margin-left: 9px;
            width: 0; 
            height: 0;
            border-left: 4px solid transparent;
            border-right: 4px solid transparent;
            border-top: 5px solid #CCC;
            transition: all .15s linear;
        }

        .overlay-on-over:hover > p:after{
            transform: rotate(-180deg);
            border-left: 4px solid transparent;
            border-right: 4px solid transparent;
            border-top: 5px solid #fff;
        }

        .menu-spacer-div{
            width: 100%;
            min-width: 10px;
            max-width: 85px;
            height: 35px;
            pointer-events: none;
        }


        /////// Btn Colors 
        .menu-btn.mv-section-btn-color:hover {
            background-color: white;
            & > p{
                color: white;
                background-color: var(--mv-color);
                border-bottom-left-radius:0;
                border-bottom-right-radius:0;
            }
        }

        .menu-btn.license-btn-color:hover {
            background-color: white;
            & > p{
                color: white;
                background-color: var(--license-color);
                border-bottom-left-radius:0;
                border-bottom-right-radius:0;
            }
        }

        .menu-btn.voter-btn-color:hover {
            background-color: white;
            & > p{
                color: white;
                background-color: var(--voter-color);
                border-bottom-left-radius:0;
                border-bottom-right-radius:0;
            }
        }

        .menu-btn.chat-btn-color:hover {
            background-color: white;
            & > p{
                color: white;
                background-color: var(--chat-color);
                border-bottom-left-radius:0;
                border-bottom-right-radius:0;
            }
        }

        .menu-btn:hover .column-container{
            max-height: 250px;
            padding: 15px 0 15px 0;
            border-top-width: 5px;
        }

        .menu-btn:hover .column-row{
           opacity: 1;
           transform: translateY(0);
           transition: opacity .25s linear .25s, transform .25s linear .25s; 

           .column{
                opacity: 1;
           }
           .row-col-gallery{
                opacity: 1;
                transition: opacity .25s linear .15s;
           }
        }

    }// mega-menu-container

  }// /row
}/* /container */

/////////////////////////// WCAG Accessibility ///////////////////////////

.wcag-tab{
    background-color: white !important;

    & > p{
        color: white;
        background-color: var(--btn-color);
    }
    & > p:after{
        transform: rotate(-180deg) !important;
        border-left: 4px solid transparent !important;
        border-right: 4px solid transparent !important;
        border-top: 5px solid #fff !important;
    }
    .column-container{
        background-color:white;
        max-height: 1000px !important;
        padding: 15px 0 5px 0 !important;
        border-top-width: 5px !important;

        .column-row{
            .column{
                opacity: 1 !important;
            }
            .row-col-gallery{
                opacity: 1 !important;
            } 
        }
    }
}// /wcag-tab

//////////// On mobile touch //////////////////

.touch-menu-btn-open{
    background-color: white !important;
    & > p{
        color: white;
        background-color: var(--btn-color);
    }
    & > p:after{
        transform: rotate(-180deg) !important;
        border-left: 4px solid transparent !important;
        border-right: 4px solid transparent !important;
        border-top: 5px solid #fff !important;
    }
    .column-container{
        background-color:white;
        max-height: 1000px !important;
        padding: 15px 0 5px 0 !important;
        border-top-width: 5px !important;

        .column-row{
            .column{
                opacity: 1 !important;
            }
        }
    }
}// /touch-menu-btn-open
.menuItemGhosted-touch{
    background-color:#eee !important;
    color:#999 !important;
}
.menuItemGhosted-touch:after{
    border-top: 5px solid #999 !important;
}
.current-menu-item-touch{
    & > p{
        color: white !important;
        background-color: var(--btn-color) !important;
    }
}
////////////////////////////////////////
.current-menu-item-return{
    background-color:#eee !important;
    color:#999 !important;
}  
//////////////////////////////

// Returns menu-btn to original state
.touch-current-menu-btn-close{
    background-color:var(--currentMenuItem) !important;
    & > p{
        color: white !important;
        background-color: inherit !important;
    }
    & > p:after{ // Arrow 
        content:"";
        position: relative;
        transform-origin: center !important;
        transform: rotate(0) !important;
        margin-left: 9px !important;
        width: 0 !important; 
        height: 0 !important;
        border-left: 4px solid transparent !important;
        border-right: 4px solid transparent !important;
        border-top: 5px solid white !important;
        transition: all .15s linear !important;
    } 
    .column-container{
        background-color:white;
        max-height: 0px !important;
        padding: 0px 0 0px 0 !important;
        border-top-width: 0px !important;

        .column-row{
            .column{
                opacity: 0 !important;
            }
        }
    }  
}// /touch-current-menu-btn-close


.touch-menu-btn-close{ //make another pecific to current menu item
    background-color: var(--btn-color) !important;
    & > p{
        color: #222 !important;
        background-color: inherit !important;
    }
    & > p:after{ // Arrow 
        content:"";
        position: relative;
        transform-origin: center !important;
        transform: rotate(0) !important;
        margin-left: 9px !important;
        width: 0 !important; 
        height: 0 !important;
        border-left: 4px solid transparent !important;
        border-right: 4px solid transparent !important;
        border-top: 5px solid #222 !important;
        transition: all .15s linear !important;
    } 
    .column-container{
        background-color:white;
        max-height: 0px !important;
        padding: 0px 0 0px 0 !important;
        border-top-width: 0px !important;

        .column-row{
            .column{
                opacity: 0 !important;
            }
        }
    }  
}// /touch-menu-btn-close

//////////// /On mobile touch //////////////////

.currentTabReset p{
    background-color: var(--btn-color) !important;
}

.sub-menu-nav-btn-wcag-active{
    background-color: var(--mv-color) !important;
    p a{
        color:white !important;
    }
}

/////////////////////////// /WCAG Accessibility ///////////////////////////

/* LG(1200 - 992), MD(991-769), SM(768-577), XS(576-0) */

@media only screen and (max-width: 991px) { /* True for width below */
    .container .row .mega-menu-container .menu-btn .submenu-with-photos .column-row{
        flex-wrap: wrap;
     }
    .container .row .mega-menu-container .menu-btn .submenu-with-photos .column-row .column{
       width: 50%;
    }
}

@media only screen and (max-width: 830px) { /* True for width below */

    .container .row .mega-menu-container {
        flex-direction: column;
        height: auto;
        max-height: 0;
        background-color: white;
        justify-content: flex-start;

        .menu-btn{
            position: relative;
            opacity: 0;
            display: none; // May not need this becuause of height
            width: 100%;
            height: 35px;
            margin: 12px 0 13px 0;
            padding: 0 0 0 0;

            & > p{
                margin: 0;
                border-top-right-radius: 4px;
                border-top-left-radius: 4px;
            }
            .column-container{
                z-index: 2;
 
                .column-row{
                    flex-wrap:wrap;
                    
                    .column{
                        width:50%;
                        box-sizing: border-box;
                        padding: 0 0 0 14px;
                        margin: 0 0 20px 0;
                    }
                    .column:nth-of-type(3), .column:nth-of-type(4){
                        margin: 0 0 0 0;
                    }
                    .chat-column{
                        width:50%;
                        box-sizing: border-box;
                        padding: 0 0 0 14px;
                        margin: 0 0 15px -10px;
                    }
                    .chat-column:nth-of-type(3), .chat-column:nth-of-type(4){
                        width:50%;
                        margin: 0 0 0 -10px;
                    }
                }
                
                .row-col-gallery{
                    display: none;
                }
            }
        }// /menu-btn 

        .current-menu-item > p{
            border-radius: 0 !important;
        }

        .menu-btn:hover{ 
            z-index: 2;
            
            .column-container{
                max-height: 1000px;
            }
        }
        .overlay-on-over > p:after{
            position: relative;
            border-top: 5px solid #222;
        }
    }// /mega-menu-container

    .revealMenu{  
        max-height: 1000px !important;
    }

    .fadeInMenuBtns{
        @for $i from 1 through 12 {
            .menu-btn:nth-of-type(#{$i}){
                animation: showBtn .5s forwards !important;
                animation-delay: .04s * $i !important;
            }
        }
        @keyframes showBtn {
            from {opacity: 0; transform: translateY(-15px)}
            to {opacity: 1; transform: translateY(0px)}
        }
    }

    .fadeOutMenuBtns{
        @for $i from 1 through 12 {
            .menu-btn:nth-of-type(#{$i}){
                animation: hideBtn .5s forwards !important;
                animation-delay: .04s * $i !important;
            }
        }
        @keyframes hideBtn {
            from {opacity: 1; transform: translateY(0)}
            to {opacity: 0; transform: translateY(-15px)}
        }
    }

    .container .row .mega-menu-container .hamburger-container{
        display: block;
    }

    .menu-spacer-div{
        display: none;
   }
}

@media only screen and (max-width: 491px) { /* True for width below */
    .container .row .mega-menu-container .menu-btn{
       display: none;
    }
}
